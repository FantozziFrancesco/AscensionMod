plugins {
    id 'eclipse'
    id 'maven-publish'
    id 'net.minecraftforge.gradle' version '5.1.41' // ForgeGradle for Minecraft 1.18.2
}

version = '1.0'
group = 'com.example.ascensionmod'
archivesBaseName = 'ascensionmod'

java.toolchain.languageVersion = JavaLanguageVersion.of(17) // Java 17 for Minecraft 1.18.2

repositories {
    maven {
        url = 'https://jitpack.io' // Repository for Forge Origins, Apoli, and Calio
    }
    maven {
        url = 'https://maven.minecraftforge.net/' // Forge repository
    }
}

dependencies {
    minecraft 'net.minecraftforge:forge:1.18.2-40.3.0' // Forge dependency for Minecraft 1.18.2
    implementation fg.deobf("com.github.apace100:origins-forge:1.18.2-1.5.0") // Forge Origins dependency
    implementation fg.deobf("com.github.apace100:apoli-forge:2.3.4") // Forge Apoli dependency
    implementation fg.deobf("com.github.apace100:calio-forge:1.6.0") // Forge Calio dependency
}

minecraft {
    mappings channel: 'official', version: '1.18.2'
    runs {
        client {
            workingDirectory = file('run') // Set the working directory explicitly
            property 'forge.logging.markers', 'REGISTRIES'
            property 'forge.logging.console.level', 'debug'
            mods {
                ascensionmod {
                    source sourceSets.main
                }
            }
        }
        server {
            workingDirectory = file('run') // Set the working directory explicitly
            property 'forge.logging.markers', 'REGISTRIES'
            property 'forge.logging.console.level', 'debug'
            mods {
                ascensionmod {
                    source sourceSets.main
                }
            }
        }
    }
}